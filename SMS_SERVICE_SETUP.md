# çŸ­ä¿¡æœåŠ¡é…ç½®æŒ‡å—

## é—®é¢˜è¯´æ˜
å½“å‰éªŒè¯ç åªåœ¨æ§åˆ¶å°è¾“å‡ºï¼ŒæœªçœŸæ­£å‘é€åˆ°æ‰‹æœºï¼Œéœ€è¦é…ç½®çŸ­ä¿¡æœåŠ¡ã€‚

## è§£å†³æ–¹æ¡ˆ

### æ–¹æ¡ˆ1: å¾®ä¿¡äº‘å¼€å‘çŸ­ä¿¡æœåŠ¡ï¼ˆæ¨èï¼‰

#### 1. å¼€é€šå¾®ä¿¡äº‘å¼€å‘çŸ­ä¿¡æœåŠ¡
1. ç™»å½•å¾®ä¿¡äº‘å¼€å‘æ§åˆ¶å°
2. è¿›å…¥"æ‰©å±•èƒ½åŠ›" â†’ "çŸ­ä¿¡æœåŠ¡"
3. ç‚¹å‡»"å¼€é€šæœåŠ¡"
4. å®Œæˆå®åè®¤è¯å’Œèµ„è´¨å®¡æ ¸

#### 2. é…ç½®çŸ­ä¿¡æ¨¡æ¿
1. åœ¨çŸ­ä¿¡æœåŠ¡é¡µé¢åˆ›å»ºæ¨¡æ¿
2. æ¨¡æ¿å†…å®¹ç¤ºä¾‹ï¼š
   ```
   æ‚¨çš„éªŒè¯ç æ˜¯ï¼š{{code}}ï¼Œ5åˆ†é’Ÿå†…æœ‰æ•ˆã€‚è¯·å‹¿æ³„éœ²ç»™ä»–äººã€‚
   ```
3. ç­‰å¾…æ¨¡æ¿å®¡æ ¸é€šè¿‡

#### 3. ä»£ç é…ç½®
```javascript
// äº‘å‡½æ•°ä¸­å‘é€çŸ­ä¿¡
const smsResult = await cloud.openapi.cloudbase.sendSms({
  env: cloud.DYNAMIC_CURRENT_ENV,
  content: `æ‚¨çš„éªŒè¯ç æ˜¯ï¼š${verificationCode}ï¼Œ5åˆ†é’Ÿå†…æœ‰æ•ˆã€‚`,
  path: '/pages/login/index',
  phoneNumberList: [phoneNumber]
})
```

### æ–¹æ¡ˆ2: ç¬¬ä¸‰æ–¹çŸ­ä¿¡æœåŠ¡

#### 1. é˜¿é‡Œäº‘çŸ­ä¿¡æœåŠ¡
```javascript
// å®‰è£…ä¾èµ–
npm install @alicloud/sms20170525

// é…ç½®å‘é€
const smsClient = new SMSClient({
  accessKeyId: 'your-access-key-id',
  accessKeySecret: 'your-access-key-secret'
})

const result = await smsClient.sendSms({
  PhoneNumbers: phoneNumber,
  SignName: 'æ‚¨çš„ç­¾å',
  TemplateCode: 'SMS_123456789',
  TemplateParam: JSON.stringify({ code: verificationCode })
})
```

#### 2. è…¾è®¯äº‘çŸ­ä¿¡æœåŠ¡
```javascript
// å®‰è£…ä¾èµ–
npm install tencentcloud-sdk-nodejs

// é…ç½®å‘é€
const tencentcloud = require("tencentcloud-sdk-nodejs")
const SmsClient = tencentcloud.sms.v20210111.Client

const client = new SmsClient({
  credential: {
    secretId: 'your-secret-id',
    secretKey: 'your-secret-key'
  },
  region: 'ap-guangzhou'
})

const result = await client.SendSms({
  PhoneNumberSet: [`+86${phoneNumber}`],
  SmsSdkAppId: 'your-sms-sdk-app-id',
  SignName: 'æ‚¨çš„ç­¾å',
  TemplateId: 'your-template-id',
  TemplateParamSet: [verificationCode]
})
```

### æ–¹æ¡ˆ3: å¼€å‘ç¯å¢ƒè§£å†³æ–¹æ¡ˆ

#### 1. æ§åˆ¶å°è¾“å‡ºéªŒè¯ç 
```javascript
// å¼€å‘ç¯å¢ƒä¸‹åœ¨æ§åˆ¶å°æ˜¾ç¤ºéªŒè¯ç 
console.log('ğŸ“± éªŒè¯ç å·²å‘é€åˆ°æ‰‹æœº:', phoneNumber)
console.log('ğŸ”‘ éªŒè¯ç :', verificationCode)
```

#### 2. å‰ç«¯æ˜¾ç¤ºéªŒè¯ç 
```javascript
// åœ¨ç™»å½•å¼¹çª—ä¸­æ˜¾ç¤ºéªŒè¯ç ï¼ˆä»…å¼€å‘ç¯å¢ƒï¼‰
if (process.env.NODE_ENV === 'development') {
  wx.showModal({
    title: 'å¼€å‘æ¨¡å¼',
    content: `éªŒè¯ç ï¼š${verificationCode}`,
    showCancel: false
  })
}
```

## é…ç½®æ­¥éª¤

### 1. å¾®ä¿¡äº‘å¼€å‘çŸ­ä¿¡æœåŠ¡é…ç½®
1. **å¼€é€šæœåŠ¡**
   - ç™»å½•å¾®ä¿¡äº‘å¼€å‘æ§åˆ¶å°
   - è¿›å…¥"æ‰©å±•èƒ½åŠ›" â†’ "çŸ­ä¿¡æœåŠ¡"
   - ç‚¹å‡»"å¼€é€šæœåŠ¡"

2. **åˆ›å»ºçŸ­ä¿¡æ¨¡æ¿**
   - æ¨¡æ¿åç§°ï¼šéªŒè¯ç é€šçŸ¥
   - æ¨¡æ¿å†…å®¹ï¼šæ‚¨çš„éªŒè¯ç æ˜¯ï¼š{{code}}ï¼Œ5åˆ†é’Ÿå†…æœ‰æ•ˆã€‚è¯·å‹¿æ³„éœ²ç»™ä»–äººã€‚
   - æ¨¡æ¿ç±»å‹ï¼šéªŒè¯ç ç±»

3. **è·å–æ¨¡æ¿ID**
   - æ¨¡æ¿å®¡æ ¸é€šè¿‡åï¼Œè®°å½•æ¨¡æ¿ID
   - åœ¨ä»£ç ä¸­ä½¿ç”¨æ¨¡æ¿ID

### 2. ç¯å¢ƒå˜é‡é…ç½®
```javascript
// åœ¨äº‘å‡½æ•°ä¸­é…ç½®
const SMS_CONFIG = {
  templateId: 'your-template-id',
  signName: 'æ‚¨çš„ç­¾å',
  env: cloud.DYNAMIC_CURRENT_ENV
}
```

### 3. é”™è¯¯å¤„ç†
```javascript
// çŸ­ä¿¡å‘é€å¤±è´¥æ—¶çš„å¤„ç†
if (smsResult.errCode !== 0) {
  console.error('çŸ­ä¿¡å‘é€å¤±è´¥:', smsResult.errMsg)
  // å¼€å‘ç¯å¢ƒä¸‹è¿”å›éªŒè¯ç 
  if (process.env.NODE_ENV === 'development') {
    return {
      code: 200,
      message: 'éªŒè¯ç å‘é€æˆåŠŸï¼ˆå¼€å‘æ¨¡å¼ï¼‰',
      data: { code: verificationCode }
    }
  }
}
```

## è´¹ç”¨è¯´æ˜

### å¾®ä¿¡äº‘å¼€å‘çŸ­ä¿¡æœåŠ¡
- å…è´¹é¢åº¦ï¼šæ¯æœˆ1000æ¡
- è¶…å‡ºè´¹ç”¨ï¼š0.05å…ƒ/æ¡
- æ”¯æŒæŒ‰é‡è®¡è´¹

### ç¬¬ä¸‰æ–¹çŸ­ä¿¡æœåŠ¡
- é˜¿é‡Œäº‘ï¼šçº¦0.045å…ƒ/æ¡
- è…¾è®¯äº‘ï¼šçº¦0.05å…ƒ/æ¡
- å…·ä½“ä»·æ ¼ä»¥å®˜æ–¹ä¸ºå‡†

## æµ‹è¯•å»ºè®®

### 1. å¼€å‘ç¯å¢ƒæµ‹è¯•
- ä½¿ç”¨æ§åˆ¶å°è¾“å‡ºéªŒè¯ç 
- æµ‹è¯•éªŒè¯ç éªŒè¯é€»è¾‘
- ç¡®è®¤ç™»å½•æµç¨‹æ­£å¸¸

### 2. ç”Ÿäº§ç¯å¢ƒæµ‹è¯•
- é…ç½®çœŸå®çŸ­ä¿¡æœåŠ¡
- æµ‹è¯•çŸ­ä¿¡å‘é€åŠŸèƒ½
- éªŒè¯ç”¨æˆ·ä½“éªŒ

## æ³¨æ„äº‹é¡¹

1. **çŸ­ä¿¡æ¨¡æ¿å®¡æ ¸**
   - æ¨¡æ¿å†…å®¹éœ€è¦ç¬¦åˆè§„èŒƒ
   - å®¡æ ¸æ—¶é—´é€šå¸¸1-3ä¸ªå·¥ä½œæ—¥
   - å»ºè®®æå‰ç”³è¯·æ¨¡æ¿

2. **è´¹ç”¨æ§åˆ¶**
   - è®¾ç½®çŸ­ä¿¡å‘é€é¢‘ç‡é™åˆ¶
   - ç›‘æ§çŸ­ä¿¡å‘é€é‡
   - é¿å…æ¶æ„åˆ·éªŒè¯ç 

3. **ç”¨æˆ·ä½“éªŒ**
   - å‘é€å¤±è´¥æ—¶æä¾›å‹å¥½æç¤º
   - æ”¯æŒé‡æ–°å‘é€éªŒè¯ç 
   - éªŒè¯ç æœ‰æ•ˆæœŸåˆç†è®¾ç½®

## æ€»ç»“

æ¨èä½¿ç”¨å¾®ä¿¡äº‘å¼€å‘çŸ­ä¿¡æœåŠ¡ï¼Œå› ä¸ºï¼š
- ä¸å°ç¨‹åºç”Ÿæ€æ·±åº¦é›†æˆ
- é…ç½®ç®€å•ï¼Œç»´æŠ¤æˆæœ¬ä½
- æœ‰å…è´¹é¢åº¦ï¼Œæˆæœ¬å¯æ§
- æ”¯æŒæ¨¡æ¿ç®¡ç†ï¼Œå®‰å…¨æ€§é«˜
